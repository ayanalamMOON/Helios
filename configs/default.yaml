atlas:
  data_dir: "/var/lib/helios"
  aof_fsync: "every"     # options: "every", "interval", "none"
  snapshot_interval_cmds: 10000
  snapshot_interval_time: "5m"

  # Raft consensus configuration (for multi-node clusters)
  raft:
    enabled: false                    # Enable Raft replication
    node_id: "node-1"                # Unique node identifier
    bind_addr: "127.0.0.1:7000"      # Raft RPC listen address
    data_dir: "/var/lib/helios/raft" # Raft data directory (logs, snapshots)
    heartbeat_timeout: "100ms"       # Leader heartbeat interval
    election_timeout: "500ms"        # Follower election timeout base
    snapshot_threshold: 10000        # Commands before triggering snapshot

    # Peer nodes in the cluster (excluding this node)
    peers:
      # - id: "node-2"
      #   address: "127.0.0.1:7001"
      # - id: "node-3"
      #   address: "127.0.0.1:7002"

gateway:
  listen: ":8443"
  tls_enabled: false
  tls_cert: "/etc/helios/cert.pem"
  tls_key: "/etc/helios/key.pem"
  jwt_secret: "change-this-in-production"
  jwt_expiry: "15m"
  rate_limit:
    default_capacity: 100
    default_rate_num: 1
    default_rate_den: 1

proxy:
  listen: ":8080"
  health_check_interval: "5s"
  circuit_breaker:
    failure_threshold: 5
    cooldown_sec: 60

worker:
  poll_interval: "5s"
  max_attempts: 3
  visibility_timeout: 300  # seconds

observability:
  log_level: "info"  # debug, info, warn, error, fatal
  metrics_enabled: true
  metrics_port: ":9090"
  tracing_enabled: false
  tracing_endpoint: "http://localhost:14268/api/traces"
